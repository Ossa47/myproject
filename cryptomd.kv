#:kivy 1.11.1
#:import rgba kivy.utils.rgba

ScreenManager:
    id: screen_manager

    Caesar_Screen:
    Aes_Screen:

<Caesar_Screen>:
    name: "Caesar_Screen"

    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            id: bx
            orientation: 'vertical'
            size_hint_y: 0.2
            padding: [20, 10, 10, 20]
            canvas.before:
                Color:
                    rgba: rgba('#8A2BE2')
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [0, 0, 90, 90]


        BoxLayout:
            MDCard:
                id: card
                orientation: 'vertical'
                size_hint: [0.35, 1]
                pos_hint: {'center_x': 0.5, 'center_y': 0.65}
                padding: [30, 10, 25, 10]
                spacing: 7

                BoxLayout:
                    orientation: 'horizontal'
                    MDLabel:
                        text: "[color=000000] Caesar Cipher [/color]"
                        text_size: self.size
                        font_size: 28
                        bold: True
                        markup: True
                        halign: "left"
                        valign: "top"

                    MDRoundFlatButton:
                        text: 'AES'
                        size: self.size
                        pos_hint: {'center_x': 0.9, 'center_y': 0.77}
                        on_press: root.manager.current = 'Aes'

                MDLabel:
                    id: output
                    text: "[color=000000] Output [/color]"
                    text_size: self.size
                    font_size: 27
                    bold: False
                    markup: True
                    halign: "center"
                    valign: "top"

                BoxLayout:
                    padding: [0, 0, 50, 0]
                    orientation: 'vertical'

                    MDTextField:
                        id: Text
                        text: "a"
                        auto_indent: True
                        allow_copy: True
                        multiline: False
                        helper_text: "Enter Text..."
                        helper_text_mode: "persistent"
                        max_text_length: 100
                        required: True
                        allow_copy: True

                    MDTextField:
                        id: key
                        text: "1"
                        input_filter: "int"
                        helper_text: "Enter Key..."
                        helper_text_mode: "persistent"
                        required: True
                        allow_copy: True
                BoxLayout:
                    padding: [0, 0, 0, 0]
                    orientation: 'vertical'

                    MDRoundFlatButton:
                        id: encrypt_bt
                        text: "Encrypt"
                        size_hint_x: 0.6
                        pos_hint: {'center_x': 0.5}
                        on_press:
                            app.out_encrypt(Text.text, key.text) if key.text != "" else None

                    MDRoundFlatButton:
                        id: decrypt_bt
                        text: "Decrypt"
                        size_hint_x: 0.6
                        pos_hint: {'center_x': 0.5}
                        on_press:
                            app.out_decrypt(Text.text, key.text) if key.text != "" else None

        BoxLayout:
            orientation: 'horizontal'
            padding: [30, 10, 30, 20]
            spacing: 20
            size_hint_y: 0.25
            pos: self.pos


            Widget:
                canvas.before:
                    Color:
                        rgba: rgba('#bfff00')
                    Ellipse:
                        pos: self.pos
                        size: self.size
            Widget:
                canvas.before:
                    Color:
                        rgba: rgba('#8A2BE2')
                    Ellipse:
                        pos: self.pos
                        size: self.size
            Widget:

                canvas.before:
                    Color:
                        rgba: rgba('#00ffff')
                    Ellipse:
                        pos: self.pos
                        size: self.size


<Aes_Screen>:
    name: "Aes"
    MDRoundFlatButton:
        text: 'Caesar'
        size: self.size
        pos_hint: {'center_x': 0.9, 'center_y': 0.77}
        on_press: root.manager.current = 'Caesar_Screen'

